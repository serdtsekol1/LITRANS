!function(t){function e(e,n,o,r){var i=t();return t.each(l,(function(t,l){var c=l.offset().top+l.height(),u=l.offset().left,f=u+l.width(),a=c+l.height()-l.height();!(u>n||r>f||c>o||e>a)&&i.push(l)})),i}function n(){++f;var n=i.scrollTop(),o=i.scrollLeft(),r=o+i.width(),l=n+i.height(),u=e(n+a.top,r+a.right,l+a.bottom,o+a.left);t.each(u,(function(t,e){"number"!=typeof e.data("scrollSpy:ticks")&&e.triggerHandler("scrollSpy:enter"),e.data("scrollSpy:ticks",f)})),t.each(c,(function(t,e){var n=e.data("scrollSpy:ticks");"number"==typeof n&&n!==f&&(e.triggerHandler("scrollSpy:exit"),e.data("scrollSpy:ticks",null))})),c=u}function o(){i.trigger("scrollSpy:winSize")}function r(t,e,n){var o,r,i,l=null,c=0;n||(n={});var u=function(){c=!1===n.leading?0:s(),l=null,i=t.apply(o,r),o=r=null};return function(){var f=s();c||!1!==n.leading||(c=f);var a=e-(f-c);return o=this,r=arguments,0>=a?(clearTimeout(l),l=null,c=f,i=t.apply(o,r),o=r=null):l||!1===n.trailing||(l=setTimeout(u,a)),i}}var i=t(window),l=[],c=[],u=!1,f=0,a={top:0,right:0,bottom:0,left:0},s=Date.now||function(){return(new Date).getTime()};t.scrollSpy=function(e,o){(e=t(e)).each((function(e,n){l.push(t(n))})),o=o||{throttle:100},a.top=o.offsetTop||0,a.right=o.offsetRight||0,a.bottom=o.offsetBottom||0,a.left=o.offsetLeft||0;var c=r(n,o.throttle||100),f=function(){t(document).ready(c)};return u||(i.on("scroll",f),i.on("resize",f),u=!0),setTimeout(f,0),e},t.winSizeSpy=function(e){return t.winSizeSpy=function(){return i},e=e||{throttle:100},i.on("resize",r(o,e.throttle||100))},t.fn.scrollSpy=function(e){return t.scrollSpy(t(this),e)}}(jQuery);